{"ast":null,"code":"var _jsxFileName = \"/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/Messenger/index.js\";\nimport React, { Component } from 'react';\nimport ConversationList from '../ConversationList';\nimport MessageList from '../MessageList';\nimport Header from '../Header';\nimport AuthContext from \"../../context/AuthContext\";\nimport './Messenger.css';\nimport axios from \"axios\";\nexport default class Messenger extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateChannel = (channel, channelName) => {\n      const {\n        auth\n      } = this.context;\n      this.setState({\n        currentChannel: channel,\n        currentChannelName: channelName\n      });\n      axios.get(\"https://localhost:4000/v1/channelInfo/\" + channel, {\n        headers: {\n          Authorization: auth.token\n        }\n      }).then(result => {\n        console.log(result.data.creatorID);\n\n        if (result.status == 200) {\n          if (result.data.creatorID == this.props.currentUserID) {\n            this.setState({\n              isChannelCreator: true\n            });\n          } else {\n            this.setState({\n              isChannelCreator: false\n            });\n          }\n\n          this.setState({\n            isPrivateChannel: result.data.private\n          });\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.state = {\n      currentChannelName: this.props.currentChannelName,\n      currentChannel: this.props.currentChannel,\n      currentUserID: this.props.currentUserID,\n      isChannelCreator: this.props.isChannelCreator,\n      isPrivateChannel: false\n    };\n  }\n\n  componentWillMount() {\n    const auth = this.context;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"messenger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scrollable sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ConversationList, {\n      currentChannel: this.state.currentChannel,\n      updateChannel: this.updateChannel,\n      updateChannelCreator: this.updateChannelCreator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scrollable content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      updateUser: this.updateUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MessageList, {\n      currentChannel: this.state.currentChannel,\n      currentChannelName: this.state.currentChannelName,\n      currentUserID: this.props.currentUserID,\n      isChannelCreator: this.state.isChannelCreator,\n      isPrivateChannel: this.state.isPrivateChannel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\nMessenger.contextType = AuthContext;","map":{"version":3,"sources":["/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/Messenger/index.js"],"names":["React","Component","ConversationList","MessageList","Header","AuthContext","axios","Messenger","constructor","props","updateChannel","channel","channelName","auth","context","setState","currentChannel","currentChannelName","get","headers","Authorization","token","then","result","console","log","data","creatorID","status","currentUserID","isChannelCreator","isPrivateChannel","private","catch","e","state","componentWillMount","render","updateChannelCreator","updateUser","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ConversationList from '../ConversationList';\nimport MessageList from '../MessageList';\nimport Header from '../Header';\nimport AuthContext from \"../../context/AuthContext\";\nimport './Messenger.css';\nimport axios from \"axios\";\n\nexport default class Messenger extends Component{\n    static contextType = AuthContext\n    constructor(props) {\n      super(props);\n      this.state = {\n        currentChannelName: this.props.currentChannelName,\n        currentChannel: this.props.currentChannel,\n        currentUserID: this.props.currentUserID,\n        isChannelCreator: this.props.isChannelCreator,\n        isPrivateChannel: false\n      }\n    }\n    componentWillMount() {\n      const auth = this.context\n    }\n    updateChannel = (channel, channelName) => {\n      const {auth} = this.context;\n      this.setState({currentChannel: channel, currentChannelName: channelName});\n      axios.get(\"https://localhost:4000/v1/channelInfo/\" + channel, {\n            headers: {\n                Authorization: auth.token\n            }\n        }).then(result => {\n          console.log(result.data.creatorID);\n            if (result.status == 200) {\n              if (result.data.creatorID == this.props.currentUserID) {\n                this.setState({isChannelCreator: true});\n              } else {\n                this.setState({isChannelCreator: false});\n              }\n              this.setState({isPrivateChannel: result.data.private});\n            } \n        }).catch(e => {\n            console.log(e);\n        })\n    }\n\n    render() {\n      return (\n        <div className=\"messenger\">\n          {/* <Toolbar\n            title=\"Messenger\"\n            leftItems={[\n              <ToolbarButton key=\"cog\" icon=\"ion-ios-cog\" />\n            ]}\n            rightItems={[\n              <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />\n            ]}\n          /> */}\n  \n          {/* <Toolbar\n            title=\"Conversation Title\"\n            rightItems={[\n              <ToolbarButton key=\"info\" icon=\"ion-ios-information-circle-outline\" />,\n              <ToolbarButton key=\"video\" icon=\"ion-ios-videocam\" />,\n              <ToolbarButton key=\"phone\" icon=\"ion-ios-call\" />\n            ]}\n          /> */}\n          <div className=\"scrollable sidebar\">\n            <ConversationList currentChannel={this.state.currentChannel} \n                              updateChannel={this.updateChannel}\n                              updateChannelCreator={this.updateChannelCreator}/>\n          </div>\n  \n          <div className=\"scrollable content\">\n            <Header updateUser={this.updateUser}/>\n            <MessageList currentChannel={this.state.currentChannel} \n                          currentChannelName={this.state.currentChannelName}\n                          currentUserID={this.props.currentUserID}\n                          isChannelCreator={this.state.isChannelCreator}\n                          isPrivateChannel={this.state.isPrivateChannel}/>\n          </div>\n        </div>\n      );\n    }\n}"]},"metadata":{},"sourceType":"module"}