{"ast":null,"code":"var _jsxFileName = \"/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/Compose/index.js\";\nimport React, { useState, useRef, useContext, Component } from 'react';\nimport './Compose.css';\nimport Axios from 'axios';\nimport ChannelContext from '../../context/ChannelContext';\nimport AuthContext from '../../context/AuthContext';\nexport default class Compose extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        auth\n      } = this.context;\n\n      if (e.keyCode == 13) {\n        Axios({\n          method: 'POST',\n          url: \"https://localhost:4000/v1/messages\",\n          headers: {\n            Authorization: auth.token\n          },\n          data: {\n            channelId: this.props.currentChannel,\n            body: this.message.value,\n            firstName: this.props.currentUserFirstName,\n            lastName: this.props.currentUserLastName\n          }\n        }).then(result => {\n          if (result.status == 200) {\n            this.props.update();\n          }\n        }).catch(e => {\n          console.log(e);\n        });\n        this.message.value = \"\";\n      }\n    };\n  }\n\n  componentDidMount() {\n    const auth = this.context;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"compose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: node => this.message = node,\n      className: \"compose-input\",\n      placeholder: \"Type a message\",\n      onKeyUp: e => this.handleSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\nCompose.contextType = AuthContext;","map":{"version":3,"sources":["/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/Compose/index.js"],"names":["React","useState","useRef","useContext","Component","Axios","ChannelContext","AuthContext","Compose","constructor","props","handleSubmit","e","preventDefault","auth","context","keyCode","method","url","headers","Authorization","token","data","channelId","currentChannel","body","message","value","firstName","currentUserFirstName","lastName","currentUserLastName","then","result","status","update","catch","console","log","componentDidMount","render","node","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,EAAiCC,UAAjC,EAA6CC,SAA7C,QAA6D,OAA7D;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AAEA,eAAe,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAE7CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,YANmB,GAMHC,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAM;AAACC,QAAAA;AAAD,UAAS,KAAKC,OAApB;;AACA,UAAIH,CAAC,CAACI,OAAF,IAAa,EAAjB,EAAqB;AAEnBX,QAAAA,KAAK,CAAC;AACJY,UAAAA,MAAM,EAAE,MADJ;AAEJC,UAAAA,GAAG,EAAE,oCAFD;AAGJC,UAAAA,OAAO,EAAE;AACLC,YAAAA,aAAa,EAAEN,IAAI,CAACO;AADf,WAHL;AAMJC,UAAAA,IAAI,EAAE;AACFC,YAAAA,SAAS,EAAE,KAAKb,KAAL,CAAWc,cADpB;AAEFC,YAAAA,IAAI,EAAE,KAAKC,OAAL,CAAaC,KAFjB;AAGFC,YAAAA,SAAS,EAAE,KAAKlB,KAAL,CAAWmB,oBAHpB;AAIFC,YAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWqB;AAJnB;AANF,SAAD,CAAL,CAaGC,IAbH,CAaQC,MAAM,IAAI;AACd,cAAIA,MAAM,CAACC,MAAP,IAAiB,GAArB,EAA0B;AACxB,iBAAKxB,KAAL,CAAWyB,MAAX;AACD;AACJ,SAjBD,EAiBGC,KAjBH,CAiBSxB,CAAC,IAAI;AACVyB,UAAAA,OAAO,CAACC,GAAR,CAAY1B,CAAZ;AACH,SAnBD;AAoBA,aAAKc,OAAL,CAAaC,KAAb,GAAqB,EAArB;AACA;AACH,KAjCkB;AAElB;;AACDY,EAAAA,iBAAiB,GAAG;AAClB,UAAMzB,IAAI,GAAG,KAAKC,OAAlB;AACD;;AA6BDyB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,GAAG,EAAEC,IAAI,IAAK,KAAKf,OAAL,GAAee,IAF/B;AAGE,MAAA,SAAS,EAAC,eAHZ;AAIE,MAAA,WAAW,EAAC,gBAJd;AAKE,MAAA,OAAO,EAAE7B,CAAC,IAAI,KAAKD,YAAL,CAAkBC,CAAlB,CALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADF;AAWD;;AAhD4C;AAA1BJ,O,CACZkC,W,GAAcnC,W","sourcesContent":["import React, {useState, useRef, useContext, Component} from 'react';\nimport './Compose.css';\nimport Axios from 'axios';\nimport ChannelContext from '../../context/ChannelContext';\nimport AuthContext from '../../context/AuthContext';\n\nexport default class Compose extends Component {\n  static contextType = AuthContext\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    const auth = this.context;\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {auth} = this.context;\n    if (e.keyCode == 13) {\n\n      Axios({\n        method: 'POST', \n        url: \"https://localhost:4000/v1/messages\",\n        headers: {\n            Authorization: auth.token\n        },\n        data: {\n            channelId: this.props.currentChannel,\n            body: this.message.value,\n            firstName: this.props.currentUserFirstName,\n            lastName: this.props.currentUserLastName\n\n        }\n      }).then(result => {\n          if (result.status == 200) {\n            this.props.update();\n          }\n      }).catch(e => {\n          console.log(e);\n      })\n      this.message.value = \"\"   \n     } \n  }\n  render() {\n    return (\n      <div className=\"compose\">\n          <input\n            type=\"text\"\n            ref={node => (this.message = node)}\n            className=\"compose-input\"\n            placeholder=\"Type a message\"\n            onKeyUp={e => this.handleSubmit(e)}\n          />\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}