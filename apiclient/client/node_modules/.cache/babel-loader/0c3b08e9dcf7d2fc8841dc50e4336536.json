{"ast":null,"code":"var _jsxFileName = \"/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/ConversationList/index.js\";\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport ConversationSearch from '../ConversationSearch';\nimport ConversationListItem from '../ConversationListItem';\nimport Toolbar from '../Toolbar';\nimport ToolbarButton from '../ToolbarButton';\nimport axios from 'axios';\nimport AuthContext from \"../../context/AuthContext\";\nimport './ConversationList.css';\nimport Axios from 'axios';\nexport default function ConversationList(props) {\n  const [conversations, setConversations] = useState([]);\n  const authentication = useContext(AuthContext);\n  const [name, setChannelName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [channelType, setChannelType] = useState(\"\");\n  useEffect(() => {\n    getChannels();\n  }, []);\n\n  const getChannels = () => {\n    axios.get('https://localhost:4000/v1/channels', {\n      headers: {\n        \"Authorization\": authentication.auth.token\n      }\n    }).then(response => {\n      let channels = response.data.map(results => {\n        return {\n          name: results.name,\n          description: results.description\n        };\n      });\n      setConversations([...conversations, ...channels]);\n    });\n  };\n\n  function postChannels(e) {\n    e.preventDefault();\n    Axios({\n      method: 'POST',\n      url: \"https://localhost:4000/v1/channels\",\n      headers: {\n        Authorization: authentication.auth.token\n      },\n      data: {\n        name: name,\n        description: description\n      }\n    }).then(result => {\n      if (result.status == 200) {\n        window.location.reload(false);\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"conversation-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    title: \"Channels\",\n    leftItems: [/*#__PURE__*/React.createElement(ToolbarButton, {\n      key: \"cog\",\n      icon: \"ion-ios-cog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })],\n    rightItems: [\n    /*#__PURE__*/\n    // <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />\n    React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"30\",\n      height: \"30\",\n      viewBox: \"0 0 8 8\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#channelModal\",\n      \"data-whatever\": \"@mdo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M3 0v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ConversationSearch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), conversations.map(conversation => /*#__PURE__*/React.createElement(ConversationListItem, {\n    key: conversation.name,\n    data: conversation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"signup-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal fade\",\n    id: \"channelModal\",\n    tabindex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"modal-dialog\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    class: \"form-horizontal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8 col-xs-offset-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 27\n    }\n  }, \"Create Channel\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"control-label col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 27\n    }\n  }, \"Channel Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    name: \"channel_name\",\n    required: \"required\",\n    value: name,\n    onChange: e => {\n      setChannelName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"control-label col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 27\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    name: \"channel_description\",\n    value: description,\n    onChange: e => {\n      setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"control-label col-xs-4\",\n    for: \"defaultChecked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 27\n    }\n  }, \"Public\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    class: \"custom-control-input\",\n    id: \"defaultChecked\",\n    value: \"public\",\n    name: \"defaultExampleRadios\",\n    checked: e => {\n      setChannelType(e.target.checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"control-label col-xs-4\",\n    for: \"defaultUnchecked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 27\n    }\n  }, \"Private\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    class: \"custom-control-input\",\n    id: \"defaultUnchecked\",\n    name: \"defaultExampleRadios\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"update-response\",\n    class: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8 col-xs-offset-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-primary btn-sm\",\n    onClick: e => postChannels(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 31\n    }\n  }, \"Create\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xs-8 col-xs-offset-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary btn-sm\",\n    \"data-dismiss\": \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  }, \"Cancel\"))))))));\n}","map":{"version":3,"sources":["/Users/willhwang/go/src/github.com/will-slack/apiclient/client/src/components/ConversationList/index.js"],"names":["React","useState","useEffect","useContext","useRef","ConversationSearch","ConversationListItem","Toolbar","ToolbarButton","axios","AuthContext","Axios","ConversationList","props","conversations","setConversations","authentication","name","setChannelName","description","setDescription","channelType","setChannelType","getChannels","get","headers","auth","token","then","response","channels","data","map","results","postChannels","e","preventDefault","method","url","Authorization","result","status","window","location","reload","catch","console","log","conversation","target","value","checked"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext, useRef} from 'react';\nimport ConversationSearch from '../ConversationSearch';\nimport ConversationListItem from '../ConversationListItem';\nimport Toolbar from '../Toolbar';\nimport ToolbarButton from '../ToolbarButton';\nimport axios from 'axios';\nimport AuthContext from \"../../context/AuthContext\"\nimport './ConversationList.css';\nimport Axios from 'axios';\n\nexport default function ConversationList(props) {\n  const [conversations, setConversations] = useState([]);\n  const authentication = useContext(AuthContext);\n  const [name, setChannelName] = useState(\"\");\n  const [description, setDescription] = useState(\"\")\n  const [channelType, setChannelType] = useState(\"\")\n  useEffect(() => {\n    getChannels()\n  },[])\n\n const getChannels = () => {\n    axios.get('https://localhost:4000/v1/channels', \n    {\n      headers: {\n        \"Authorization\": authentication.auth.token\n      }\n    }\n    ).then(response => {\n        let channels = response.data.map(results => {\n          return {\n            name: results.name,\n            description: results.description\n          }\n        })\n        setConversations([...conversations, ...channels])\n    });\n  }\n\n  function postChannels(e) {\n    e.preventDefault();\n    Axios({\n      method: 'POST', \n      url: \"https://localhost:4000/v1/channels\",\n      headers: {\n          Authorization: authentication.auth.token\n      },\n      data: {\n          name: name,\n          description: description,\n\n      }\n    }).then(result => {\n        if (result.status == 200) {\n          window.location.reload(false);\n        }\n    }).catch(e => {\n        console.log(e);\n    })\n   } \n\n    return (\n      <div className=\"conversation-list\">\n        <Toolbar\n          title=\"Channels\"\n          leftItems={[\n            <ToolbarButton key=\"cog\" icon=\"ion-ios-cog\" />\n          ]}\n          rightItems={[\n            // <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 8 8\"data-toggle=\"modal\" data-target=\"#channelModal\" data-whatever=\"@mdo\" >\n              <path d=\"M3 0v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2z\" />\n            </svg>\n          ]}\n        />\n        <ConversationSearch />\n        {\n          conversations.map(conversation =>\n            <ConversationListItem\n              key={conversation.name}\n              data={conversation}\n            />\n          )\n        }\n        <div class=\"signup-form\">\n          <div class=\"modal fade\" id=\"channelModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n              <div class=\"modal-dialog\" role=\"document\">\n                  <form class=\"form-horizontal\">\n                      <div class=\"col-xs-8 col-xs-offset-4\">\n                          <h2>Create Channel</h2>\n                      </div>\t\t\n                      <div class=\"form-group\">\n                          <label class=\"control-label col-xs-4\">Channel Name</label>\n                          <div class=\"col-xs-8\">\n                              <input type=\"text\" class=\"form-control\" name=\"channel_name\" required=\"required\" value ={name} onChange={e => {setChannelName(e.target.value)}}/>\n                          </div>        \t\n                      </div>\n                      <div class=\"form-group\">\n                          <label class=\"control-label col-xs-4\">Description</label>\n                          <div class=\"col-xs-8\">\n                              <input type=\"text\" class=\"form-control\" name=\"channel_description\" value ={description} onChange={e => {setDescription(e.target.value)}}\n                              />\n                          </div>        \t\n                      </div>\n                      <div class=\"form-group\">\n                          <label class=\"control-label col-xs-4\" for=\"defaultChecked\">Public</label>\n                          <div class=\"col-xs-8\">\n                            <input type=\"radio\" class=\"custom-control-input\" id=\"defaultChecked\" value = \"public\" name=\"defaultExampleRadios\" checked={e => {setChannelType(e.target.checked)}} />\n                          </div>\n                      </div>\n                      <div class=\"form-group\">\n                          <label class=\"control-label col-xs-4\" for=\"defaultUnchecked\">Private</label>\n                          <div class=\"col-xs-8\">\n                            <input type=\"radio\" class=\"custom-control-input\" id=\"defaultUnchecked\" name=\"defaultExampleRadios\" />\n                          </div>\n                      </div>\n                      <div id =\"update-response\" class=\"text-center\">\n                          {/* <p style={{color: this.state.color}}>{this.state.message}</p> */}\n                      </div>\n                      <div class=\"form-group\">\n                          <div class=\"col-xs-8 col-xs-offset-4\">\n                              <button class=\"btn btn-primary btn-sm\" onClick={e => postChannels(e)}>Create</button>\n                          </div>  \n                          <div class=\"col-xs-8 col-xs-offset-4\">\n                          <button type=\"button\" class=\"btn btn-primary btn-sm\" data-dismiss=\"modal\"\n                          >\n                              Cancel</button>\n                      </div> \n                      </div>\t\n                  </form>\n              </div>\n          </div>\n        </div>\n      </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}